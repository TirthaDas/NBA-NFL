<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="nflStyleA.css">
	<title>NFL</title>
</head>
<body>
	<header class="pageHeader">
		<div class="slideshow-container">
			<div class="mySlides fade">
				<div class="numbertext">1 / 3</div>
				<img
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_200.jpg 200w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_446.jpg 446w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_621.jpg 621w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_800.jpg 800w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_930.jpg 930w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1060.jpg 1060w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1187.jpg 1187w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1306.jpg 1306w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1383.jpg 1383w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg 1400w"
					src="images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg"
					alt="nfl4" style="width:100%">				
			</div>
			<div class="mySlides fade">
					<div class="numbertext">2 / 3</div>
				<img
					sizes="(max-width: 1024px) 100vw, 1024px"
					srcset="
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_200.jpg 200w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_295.jpg 295w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_372.jpg 372w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_438.jpg 438w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_499.jpg 499w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_550.jpg 550w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_604.jpg 604w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_652.jpg 652w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_738.jpg 738w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_775.jpg 775w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_819.jpg 819w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_858.jpg 858w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_894.jpg 894w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_935.jpg 935w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_975.jpg 975w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1023.jpg 1023w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1019.jpg 1019w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg 1024w"
					src="images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg"
					alt="nba3" style="width:100%">  				
			</div>
			<div class="mySlides fade">
					<div class="numbertext">3 / 3</div>
				<img 
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_200.jpg 200w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_415.jpg 415w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_575.jpg 575w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_702.jpg 702w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_842.jpg 842w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_948.jpg 948w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1061.jpg 1061w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1172.jpg 1172w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1269.jpg 1269w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1375.jpg 1375w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg 1400w"
					src="images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg"
					alt="nfl2" style="width:100%">  						
			</div>
		</div>
		<br>
		<div style="text-align:center">
			<span class="dot"></span> 
			<span class="dot"></span> 
			<span class="dot"></span> 
		</div>		
	</header>
	<nav id="navigationWapper">
	  	<a id="active1" href="index.html">NFL</a>
	  	<a href="nba.html">NBA</a>  
	  	<a href="contactUs.html">Contact us</a>	
	</nav>
	<div id="websname">
		<h1>THE  SPORTS  CASTLE</h1>		
	</div>
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	<div id="teamRstl">
		<div id="slctn">
			<select id="slct1" onchange="getSelectedValue1();">
				<option value="0">Team</option>
				<option value="ARI">Arizona Cardinals</option>
				<option value="ATL">Atlanta Falcons</option>
				<option value="BAL">Baltimore Ravens</option>
				<option value="BUF">Buffalo Bills</option>
				<option value="CAR">Carolina Panthers</option>
				<option value="CHI">Chicago Bears</option>
				<option value="CIN">Cincinnati Bengals</option>
				<option value="CLE">Cleveland Browns</option>
				<option value="DAL">Dallas Cowboys</option>
				<option value="DEN">Denver Broncos</option>
				<option value="DET">Detroit Lions</option>
				<option value="GB">Green Bay Packers</option>
				<option value="HOU">Houston Texans</option>
				<option value="IND">Indianpolis Colts</option>
				<option value="JAC">Jacksonville Jaguars</option>
				<option value="KC">Kansas City Chiefs</option>
				<option value="LA">Los Angeles Rams</option>
				<option value="MIA">Miami Dolphins</option>
				<option value="MIN">Minnesota Vikings</option>
				<option value="NE">New England Patriots</option>
				<option value="NO">New Orleans Saints</option>
				<option value="NYG">New York Giants</option>
				<option value="NYJ">New York Jets</option>
				<option value="OAK">Oakland Raiders</option>
				<option value="PHI">Philadelphia Eagles</option>
				<option value="PIT">Pittsburgh Steelers</option>
				<option value="SD">San Diego Chargers</option>
				<option value="SEA">Seattle Seahawks</option>
				<option value="SF">San Francisco 49ers</option>
				<option value="TB">Tampa Bay Buccaneers</option>
				<option value="TEN">Tennessee Titans</option>
				<option value="WAS">Washington Redskins</option>			
			</select>
			<div id="k">
				<select id="slct2"  onchange="getSelectedValue2();">
					<option value="0">year</option>
					<option value="2009">2009</option>
					<option value="2010">2010</option>
					<option value="2011">2011</option>
					<option value="2012">2012</option>
					<option value="2013">2013</option>
					<option value="2014">2014</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>				
				</select>
			</div>				
			<select id="slct3" onchange="getSelectedValue3();">			
				<option value="0">week</option>
				<option value="1">week 1</option>
				<option value="2">week 2</option>
				<option value="3">week 3</option>
				<option value="4">week 4</option>
				<option value="5">week 5</option>
				<option value="6">week 6</option>
				<option value="7">week 7</option>
				<option value="8">week 8</option>
				<option value="9">week 9</option>
				<option value="10">week 10</option>
				<option value="11">week 11</option>
				<option value="12">week 12</option>
				<option value="13">week 13</option>
				<option value="14">week 14</option>
				<option value="15">week 15</option>
				<option value="16">week 16</option>
				<option value="17">week 17</option>			
			</select>
			<button id="n" type="submit" >GO</button>
		</div>
	</div>
	<div id="howww">	</div>
	<script type="text/javascript">
		window.onscroll = function() {scrollFunction()};
		function scrollFunction() {
	    	if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
	        	document.getElementById("myBtn").style.display = "block";
	    	} else {
	        	document.getElementById("myBtn").style.display = "none";
	    	}
		}

		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
		    document.body.scrollTop = 0; // For Safari
		    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}

		var newsubmit=document.getElementById("n");
		newsubmit.addEventListener("click",function(){
			var val1=document.getElementById("slct1").value;
			var val2=document.getElementById("slct2").value;
			var val3=document.getElementById("slct3").value;
			if(val1==0&&val2==0&&val3==0){
				window.alert("Please make valid selection");
			}else{
				location.href="nfl.html"+"?"+"var1"+"="+val1+"&var2="+val2+"&var3="+val3;
				document.getElementById("slct1").value="0";
				document.getElementById("slct2").value="0";
				document.getElementById("slct3").value="0";
			}
		});


		var xhttp = new XMLHttpRequest();
		var xhttp1 = new XMLHttpRequest();
		var wikidata="";
		function GetUrlValue(VarSearch){
		    var SearchString = window.location.search.substring(1);
		    var VariableArray = SearchString.split('&');

		    console.log(VariableArray);
		    for(var i = 0; i < VariableArray.length; i++){
		        var KeyValuePair = VariableArray[i].split('=');
		        if(KeyValuePair[0] == VarSearch){
		            return KeyValuePair[1];
	        	}
	    	}
		}
		console.log(GetUrlValue('var1'));
		var h="hello";
		var team=GetUrlValue('var1');
		var year=GetUrlValue('var2');
		var week=GetUrlValue('var3');


		var teams=[
			"ARI=Arizona Cardinals","LA=Los Angeles Rams","ATL=Atlanta Falcons","MIA=Miami Dolphins"
			,"BAL=Baltimore Ravens","MIN=Minnesota Vikings","BUF=Buffalo Bills","NE=New England Patriots"
			,"CAR=Carolina Panthers","NO=New Orleans Saints","CHI=Chicago Bears","NYG=New York Giants"
			,"CIN=Cincinnati Bengals","NYJ=New York Jets","CLE=Cleveland Browns","OAK=Oakland Raiders"
			,"DAL=Dallas Cowboys","PHI=Philadelphia Eagles","DEN=Denver Broncos","PIT=Pittsburgh Steelers"
			,"DET=Detroit Lions","SD=San Diego Chargers","GB=Green Bay Packers","SEA=Seattle Seahawks"
			,"HOU=Houston Texans","SF=San Francisco 49ers","IND=Indianpolis Colts","TB=Tampa Bay Buccaneers"
			,"JAC=Jacksonville Jaguars","TEN=Tennessee Titans","KC=Kansas City Chiefs","WAS=Washington Redskins"
		];

		function searchTeams(VarSearch1){
		 	for(var i = 0; i < teams.length; i++){		
        		var KeyValuePair = teams[i].split('=');
        		if(KeyValuePair[0] == VarSearch1){
            		return KeyValuePair[1];
        		}
    		}
    	}
	    	
			
		function createDesing(readd){
			var newDiva=document.createElement('div');
			newDiva.setAttribute("id","wikiData");
			var mp=document.getElementById("howww");
			var wikipar=document.createElement("p");
			wikipar.setAttribute("id","wkipar");
			wikipar.textContent=readd;
			newDiva.append(wikipar);			
			mp.appendChild(newDiva);			
		}


		function createDesingNfl(weekNo,dayOfWeek,seasonYear,hometeam,hometeamQ1,hometeamQ2,hometeamQ3,hometeamQ4,hometeamTurnover,hometeamScore,awayteam,awayteamQ1,awayteamQ2,awayteamQ3,awayteamQ4,awayteamTurnover,awayteamScore){
			var newDiv=document.createElement('div');
			newDiv.setAttribute("id","designdivSports");
			var mp=document.getElementById("howww");
			mp.appendChild(newDiv);
			var hdrdiv=document.createElement('div');
			hdrdiv.setAttribute("id","hdrdiv");
			newDiv.appendChild(hdrdiv);
			var headr1=document.createElement("h3");
			var headr2=document.createElement("h3");
			var headr3=document.createElement("h3");
			headr1.setAttribute("id","hdr1");
			headr2.setAttribute("id","hdr2");
			headr3.setAttribute("id","hdr3");
			headr1.textContent=(weekNo);
			headr2.textContent=(dayOfWeek);
			headr3.textContent=(seasonYear);
			hdrdiv.append(headr1);
			hdrdiv.append(headr2);
			hdrdiv.append(headr3);
			var listdiv=document.createElement('div');
			listdiv.setAttribute("id","listdiv");
			newDiv.appendChild(listdiv);
			var homelist=document.createElement("ul");
			homelist.setAttribute("class","left");
			var awaylist=document.createElement("ul");
			awaylist.setAttribute("class","right");
			var listitem1=document.createElement('li');
			var listitem2=document.createElement('li');
			var listitem3=document.createElement('li');
			var listitem4=document.createElement('li');
			var listitem5=document.createElement('li');
			var listitem6=document.createElement('li');
			var listitem7=document.createElement('li');
			var listitem8=document.createElement('li');
			var listitem9=document.createElement('li');
			var listitem10=document.createElement('li');
			var listitem11=document.createElement('li');
			var listitem12=document.createElement('li');
			var listitem13=document.createElement('li');
			var listitem14=document.createElement('li');
			listitem1.textContent=("HOME TEAM :"+" "+hometeam);
			listitem2.textContent=("QUARTER 1 :"+" "+hometeamQ1);
			listitem3.textContent=("QUARTER 2 :"+" "+hometeamQ2);
			listitem4.textContent=("QUARTER 3 :"+" "+hometeamQ3);
			listitem5.textContent=("QUARTER 4:"+" "+hometeamQ4);
			listitem6.textContent=("TURNOVER :"+" "+hometeamTurnover);
			listitem7.textContent=("SCORE :"+" "+hometeamScore);
			listitem8.textContent=("AWAY TEAM:"+" "+awayteam);
			listitem9.textContent=("QUARTER 1 :"+" "+awayteamQ1);
			listitem10.textContent=("QUARTER 2 :"+" "+awayteamQ2);
			listitem11.textContent=("QUARTER 3 :"+" "+awayteamQ3);
			listitem12.textContent=("QUARTER 4 :"+" "+awayteamQ4);
			listitem13.textContent=("TURNOVER :"+" "+awayteamTurnover);
			listitem14.textContent=("SCORE :"+" "+awayteamScore);
			homelist.append(listitem1);
			homelist.append(listitem2);
			homelist.append(listitem3);
			homelist.append(listitem4);
			homelist.append(listitem5);
			homelist.append(listitem6);
			homelist.append(listitem7);
			awaylist.append(listitem8);
			awaylist.append(listitem9);
			awaylist.append(listitem10);
			awaylist.append(listitem11);
			awaylist.append(listitem12);
			awaylist.append(listitem13);
			awaylist.append(listitem14);
			listdiv.append(homelist);
			listdiv.append(awaylist);
			mp.appendChild(newDiv);
		}
			
		var base_url="https://cors-anywhere.herokuapp.com/http://api.suredbits.com/nfl/v0/games";
		var base_url_wiki="https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&origin=*&indexpageids=&exintro=&explaintext=&titles=";
		// var base_url_wiki="https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&origin=*&indexpageids=&exintro=&titles=";
		var query_url_suredBit="";
		var query_url_wiki="";
		var teamName="";
		var teamNameA=searchTeams(team);
		window.onload=function(){			
        	if(week==0&&year!=0){
		        query_url_suredBit = base_url + "/" +team+"/"+year;
		        console.log(query_url_suredBit);
	    	}
	    	else if(year==0&&week!=0){
		        query_url_suredBit = base_url + "/" +team+"/"+week;
		        console.log(query_url_suredBit);
	    	}
	    	else if(team==0&&week==0){
	    		query_url_suredBit = base_url +"/"+year;
	        	console.log(query_url_suredBit);
	    	}
	    	else if(year==0&&week==0){
	    		 query_url_suredBit = base_url +"/"+team;
	        	console.log(query_url_suredBit);
	    	}
	    	else{
	    		query_url_suredBit = base_url + "/" +team+"/"+year+"/"+week;
	        	console.log(query_url_suredBit);
	    	}
	    	if(team!=0&&year==0){
	    		teamName=encodeURIComponent(teamNameA);
	    		console.log(teamName);
	    		query_url_wiki=base_url_wiki+teamName;
	    		console.log(query_url_wiki);
	    	}else if(team!=0&&year!==0){
	    		teamName=encodeURIComponent(teamNameA);
	    		query_url_wiki=base_url_wiki+year+"%20"+teamName+"%20season";
	    	}
	    	// xhttp.open("GET","https://cors-anywhere.herokuapp.com/http://api.suredbits.com/nfl/v0/games/min");
	    	xhttp.open("GET",query_url_suredBit);	    
	    	xhttp.addEventListener("load",function(response){
	    		// console.log(query_url_suredBit);
    			var data=JSON.parse(this.response);
    			console.log(data);
    			if(data.length==0){
    				alert("please give valid input")
    			}else{
	    			for(var i=0;i<data.length;i++){
	    				var weekNo= data[i].week;
	    				var seasonYear=data[i].seasonYear;
	    				var dayOfWeek=data[i].dayOfWeek;
	    				var hometeam=searchTeams(data[i].homeTeam.team);
	    				var hometeamQ1=data[i].homeTeam.scoreQ1;
	    				var hometeamQ2=data[i].homeTeam.scoreQ2;
	    				var hometeamQ3=data[i].homeTeam.scoreQ3;
	    				var hometeamQ4=data[i].homeTeam.scoreQ4;
	    				var hometeamScore=data[i].homeTeam.score;
	    				var hometeamTurnover=data[i].homeTeam.turnovers;
	    				var awayteam=searchTeams(data[i].awayTeam.team);
	    				var awayteamQ1=data[i].awayTeam.scoreQ1;
	    				var awayteamQ2=data[i].awayTeam.scoreQ2;
	    				var awayteamQ3=data[i].awayTeam.scoreQ3;
	    				var awayteamQ4=data[i].awayTeam.scoreQ4;
	    				var awayteamTurnover=data[i].awayTeam.turnovers;
	    				var awayteamScore=data[i].awayTeam.score;
	    				createDesingNfl(weekNo,dayOfWeek,seasonYear,hometeam,hometeamQ1,hometeamQ2,hometeamQ3,hometeamQ4,hometeamTurnover,hometeamScore,awayteam,awayteamQ1,awayteamQ2,awayteamQ3,awayteamQ4,awayteamTurnover,awayteamScore);
	    			}
	    		}
	    	});
	    	xhttp.send();
	    	xhttp1.open("GET",query_url_wiki);
	    	xhttp1.addEventListener("load",function(response) {
				var data1=JSON.parse(this.response);
				var pageId=data1.query.pageids[0];
				//console.log(pageId);
				var arr=[];
				var a=data1.query.pages;
				for(var x in a ){
					arr.push(a[x])
				}
				wikidata=arr[0].extract;
				// console.log("avc"+wikidata);
				createDesing(wikidata);
				 // console.log(response);
			});
			xhttp1.send();
			console.log("kaa"+wikidata);
				getSelectedValue1();
				getSelectedValue2();
				getSelectedValue3();
	    }
		var goBtn=document.getElementById('n');
		goBtn.addEventListener("click",function()
		{
			getSelectedValue1();
			getSelectedValue2();
			getSelectedValue3();

			document.getElementById("slct1").value="0";
			document.getElementById("slct2").value="0";
			document.getElementById("slct3").value="0";
			console.log("aksdjas");
		});
		function getSelectedValue1(){
			 val1=document.getElementById("slct1").value;
			console.log(val1);
		}
		function getSelectedValue2(){
			val2=document.getElementById("slct2").value;
			console.log(val2);
		}			
		function getSelectedValue3(){		
			val3=document.getElementById("slct3").value;			
			console.log(val3);
		}
		getSelectedValue1();
		getSelectedValue2();
		getSelectedValue3();

		var slideIndex = 0;
		showSlides();
		function showSlides() {
		    var i;
		    var slides = document.getElementsByClassName("mySlides");
		    var dots = document.getElementsByClassName("dot");
		    for (i = 0; i < slides.length; i++) {
		       slides[i].style.display = "none";  
		    }
		    slideIndex++;
		    if (slideIndex > slides.length){
		    	slideIndex = 1
		    }    
		    for (i = 0; i < dots.length; i++) {
		        dots[i].className = dots[i].className.replace(" active", "");
		    }
		    slides[slideIndex-1].style.display = "block";  
		    dots[slideIndex-1].className += " active";
		    setTimeout(showSlides, 3000); // Change image every 2 seconds
		}
	</script>
</body>
</html>