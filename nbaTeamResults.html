<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="nflStyleA.css">
	<title>NBATEAMRESULTS</title>
</head>
<body>
	<header class="pageHeader">
		<div class="slideshow-container">
			<div class="mySlides fade">
  				<div class="numbertext">1 / 3</div>
  				<img
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_200.jpg 200w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_446.jpg 446w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_621.jpg 621w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_800.jpg 800w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_930.jpg 930w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1060.jpg 1060w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1187.jpg 1187w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1306.jpg 1306w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1383.jpg 1383w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg 1400w"
					src="images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg"
					alt="nfl4" style="width:100%">
  				<!-- <div class="text">Caption Text</div> -->
			</div>
			<div class="mySlides fade">
  				<div class="numbertext">2 / 3</div>
 				<img
					sizes="(max-width: 1024px) 100vw, 1024px"
					srcset="
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_200.jpg 200w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_295.jpg 295w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_372.jpg 372w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_438.jpg 438w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_499.jpg 499w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_550.jpg 550w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_604.jpg 604w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_652.jpg 652w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_738.jpg 738w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_775.jpg 775w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_819.jpg 819w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_858.jpg 858w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_894.jpg 894w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_935.jpg 935w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_975.jpg 975w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1023.jpg 1023w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1019.jpg 1019w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg 1024w"
					src="images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg"
					alt="nba3" style="width:100%">
  				<!-- <div class="text">Caption Two</div> -->
			</div>

			<div class="mySlides fade">
  				<div class="numbertext">3 / 3</div>
  				<img 
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_200.jpg 200w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_415.jpg 415w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_575.jpg 575w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_702.jpg 702w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_842.jpg 842w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_948.jpg 948w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1061.jpg 1061w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1172.jpg 1172w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1269.jpg 1269w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1375.jpg 1375w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg 1400w"
					src="images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg"
					alt="nfl2" style="width:100%">
						<!-- <div class="text">Caption Two</div> -->
			</div>
		</div>
		<br>

		<div style="text-align:center">
			<span class="dot"></span> 
			<span class="dot"></span> 
			<span class="dot"></span> 
		</div>		
	</header>
	<nav id="navigationWapper">
<!-- 	<ul class="abc" id="ab"> -->
	  	<a href="index.html">NFL</a>
	  	<a id="active1" href="nba.html">NBA</a>
	  	<a href="contactUs.html">Contact us</a>
<!-- 	</ul> -->
	</nav>
	<div id="websname">
		<h1>THE SPORTS CASTLE</h1>		
	</div>
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	<div id="teamRstl">
		<div id="slctn">
			<select id="slct1" onchange="getSelectedValue1();">
				<option value="0">Team</option>
				<option value="ATL">Atlanta Hawks</option>
				<option value="BKN">Brooklyn Nets</option>
				<option value="BOS">Boston Celtics</option>
				<option value="CHA">Charlotte Hornets</option>
				<option value="CHI">Chicago Bulls</option>
				<option value="CLE">Cleveland Cavaliers</option>
				<option value="DAL">Dallas Mavericks</option>
				<option value="DEN">Denver Broncos</option>
				<option value="DET">Detroit Pistons</option>
				<option value="GSW">Golden State Warriors</option>
				<option value="HOU">Houston Rockets</option>
				<option value="IND">Indiana Pacers</option>
				<option value="LAC">Los Angeles Clippers</option>
				<option value="LAL">Los Angeles Lakers</option>
				<option value="MEM">Memphis Grizzlies</option>
				<option value="MIA">Miami Heat</option>
				<option value="MIL">Milwaukee Bucks</option>
				<option value="MIN">Minnesota Timberwolves</option>
				<option value="NOP">New Orleans Pelicans</option>
				<option value="NYK">New York Knicks</option>
				<option value="OKC">Oklahoma City Thunder</option>
				<option value="ORL">Orlando Magic</option>
				<option value="PHI">Philadelphia 76ers</option>
				<option value="PHX">Phoenix Suns</option>
				<option value="POR">Portland Trail Blazers</option>
				<option value="SAC">Sacramento Kings</option>
				<option value="SAS">San Antonio Spurs</option>
				<option value="TOR">Toronto Raptorss</option>
				<option value="UTA">Utah Jazz</option>
				<option value="WAS">Washington Wizards</option>
			</select>
			<div id="k">
				<select id="slct2"  onchange="getSelectedValue2();">
					<option value="0">year</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>
				</select>
			</div>
			<select id="slct3" onchange="getSelectedValue3();">
				<option value="0">month</option>
				<option value="1">january</option>
				<option value="2">february</option>
				<option value="3">march</option>
				<option value="4">april</option>
				<option value="5">may</option>
				<option value="6">june</option>
				<!-- <option value="7">july</option>
				<option value="8">august</option>
				<option value="9">september</option> -->
				<option value="10">october</option>
				<option value="11">november</option>
				<option value="12">december</option>
			</select>
			<button id="n" type="submit" >GO</button>
		</div>
	</div>

	<div id="howww"></div>
	<script type="text/javascript">
		window.onscroll = function() {scrollFunction()};
		function scrollFunction() {
		    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
		        document.getElementById("myBtn").style.display = "block";
		    } else {
		        document.getElementById("myBtn").style.display = "none";
		    }
		}

		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
		    document.body.scrollTop = 0; // For Safari
		    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}
		var newsubmit=document.getElementById("n");
		newsubmit.addEventListener("click",function(){
			var val1=document.getElementById("slct1").value;
			var val2=document.getElementById("slct2").value;
			var val3=document.getElementById("slct3").value;
			if(val1==0&&val2==0&&val3==0){
				window.alert("Please make valid selection");
			}else{
				location.href="nfl.html"+"?"+"var1"+"="+val1+"&var2="+val2+"&var3="+val3;
				document.getElementById("slct1").value="0";
				document.getElementById("slct2").value="0";
				document.getElementById("slct3").value="0";
			}
		});


		var xhttp = new XMLHttpRequest();
		var xhttp1 = new XMLHttpRequest();
		var wikidata="";
		function GetUrlValue(VarSearch){
		    var SearchString = window.location.search.substring(1);
		    var VariableArray = SearchString.split('&');
		    console.log(VariableArray);
		    for(var i = 0; i < VariableArray.length; i++){
		        var KeyValuePair = VariableArray[i].split('=');
		        if(KeyValuePair[0] == VarSearch){
		            return KeyValuePair[1];
		        		}
		    		}
		}
		console.log(GetUrlValue('var1'));
		var h="hello";
		var team=GetUrlValue('var1');
		var year=GetUrlValue('var2');
		var month=GetUrlValue('var3');
		var teams=[
			"ATL=Atlanta Hawks","BKN=Brooklyn Nets","BOS=Boston Celtics","CHA=Charlotte Hornets"
			,"CHI=Chicago Bulls","CLE=Cleveland Cavaliers","DAL=Dallas Mavericks","DEN=Denver Broncos"
			,"DET=Detroit Pistons","GSW=Golden State Warriors","HOU=Houston Rockets","IND=Indiana Pacers"
			,"LAC=Los Angeles Clippers","LAL=Los Angeles Lakers","MEM=Memphis Grizzlies",
			"MIA=Miami Heat ","MIL=Milwaukee Bucks","MIN=Minnesota Timberwolves","NOP=New Orleans Pelicans",
			"NYK=New York Knicks","OKC=Oklahoma City Thunder","ORL=Orlando Magic","PHI=Philadelphia 76ers","PHX=Phoenix Suns","POR=Portland Trail Blazers","SAC=Sacramento Kings","SAS=San Antonio Spurs","TOR=Toronto Raptors","UTA=Utah Jazz","WAS=Washington Wizards"
			];

		function searchTeams(VarSearch1){
			for(var i = 0; i < teams.length; i++){
			
		        var KeyValuePair = teams[i].split('=');
		        if(KeyValuePair[0] == VarSearch1){
		            return KeyValuePair[1];
		        }
		    }
	    }
    	function createDesing(readd){
			var newDiva=document.createElement('div');
			newDiva.setAttribute("id","wikiData");
			// var body=document.getElementsByClassName("navigationWapper");
			 // var hp=document.getElementsByTagName("body")[0];
			var mp=document.getElementById("howww");
			// console.log(hp);
			var wikipar=document.createElement("p");
			wikipar.setAttribute("id","wkipar");
			wikipar.textContent=readd;
			// wikipar.textContent=wikidata;
			newDiva.append(wikipar);
			mp.appendChild(newDiva);
		}
		function createDesingNba(seasonYear,hometeam,hometeamScore,awayteam,awayteamScore)
			{
				var newDiv=document.createElement('div');
				newDiv.setAttribute("id","designdivSports");
				var mp=document.getElementById("howww");
				mp.appendChild(newDiv);
				var headr1=document.createElement("h3");
				var headr2=document.createElement("h3");
				var headr3=document.createElement("h3");
				// headr1.setAttribute("id","hdr1");
				// headr2.setAttribute("id","hdr2");
				headr3.setAttribute("id","hdr3");
				// headr1.textContent=(weekNo);
				// headr2.textContent=(dayOfWeek);
				headr3.textContent=(seasonYear);
				// newDiv.append(headr1);
				// newDiv.append(headr2);
				newDiv.append(headr3);
				
				var homelist=document.createElement("ul");
				homelist.setAttribute("class","left");
				var awaylist=document.createElement("ul");
				awaylist.setAttribute("class","right");
				var listitem1=document.createElement('li');
				var listitem2=document.createElement('li');
				var listitem3=document.createElement('li');
				var listitem4=document.createElement('li');
				// var listitem5=document.createElement('li');
				// var listitem6=document.createElement('li');
				// var listitem7=document.createElement('li');
				// var listitem8=document.createElement('li');
				// var listitem9=document.createElement('li');
				// var listitem10=document.createElement('li');
				// var listitem11=document.createElement('li');
				// var listitem12=document.createElement('li');
				// var listitem13=document.createElement('li');
				// var listitem14=document.createElement('li');
				// var listitem15=document.createElement('li');
				// var listitem16=document.createElement('li');
				listitem1.textContent=("HOME TEAM :"+" "+hometeam);
				listitem2.textContent=("SCORE :"+" "+hometeamScore);
				listitem3.textContent=("AWAY TEAM :"+" "+awayteam);
				listitem4.textContent=("SCORE :"+" "+awayteamScore);
				// listitem5.textContent=("QUARTER 4:"+hometeamQ4);
				// listitem6.textContent=("TURNOVER :"+hometeamTurnover);
				// listitem7.textContent=("SCORE :"+hometeamScore);
				// listitem8.textContent=("AWAY TEAM:"+awayteam);
				// listitem9.textContent=("QUARTER 1 :"+awayteamQ1);
				// listitem10.textContent=("QUARTER 2 :"+awayteamQ2);
				// listitem11.textContent=("QUARTER 3 :"+awayteamQ3);
				// listitem12.textContent=("QUARTER 4 :"+awayteamQ4);
				// listitem13.textContent=("TURNOVER :"+awayteamTurnover);
				// listitem14.textContent=("SCORE:"+awayteamScore);
				// listitem15.textContent=("HOME TEAM :"+hometeam);
				// listitem16.textContent=("HOME TEAM :"+hometeam);
				homelist.append(listitem1);
				homelist.append(listitem2);
				awaylist.append(listitem3);
				awaylist.append(listitem4);
				// homelist.append(listitem5);
				// homelist.append(listitem6);
				// homelist.append(listitem7);
				// awaylist.append(listitem8);
				// awaylist.append(listitem9);
				// awaylist.append(listitem10);
				// awaylist.append(listitem11);
				// awaylist.append(listitem12);
				// awaylist.append(listitem13);
				// awaylist.append(listitem14);
				newDiv.append(homelist);
				newDiv.append(awaylist);
				mp.appendChild(newDiv);		
			}

			var base_url="https://cors-anywhere.herokuapp.com/http://api.suredbits.com/nba/v0/games";
			var base_url_wiki="https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&origin=*&indexpageids=&exintro=&explaintext=&titles=";
			var query_url_suredBit="";
			var query_url_wiki="";
			var teamName="";
			var teamNameA=searchTeams(team);
			var nextYear=String(parseInt(year)+1);
			var nextYear1=nextYear.substr(2);
			console.log(nextYear1);
			window.onload=function(){
				
		        if(month==0&&year!=0){
			        query_url_suredBit = base_url + "/" +team+"/"+year;
			        console.log(query_url_suredBit);
		    	}
		    	else if(year==0&&month!=0){
			        query_url_suredBit = base_url + "/" +team+"/"+week;
			        console.log(query_url_suredBit);
		    	}
		    	else if(team==0&&month==0){
		    		query_url_suredBit = base_url +"/"+year;
		        	console.log(query_url_suredBit);
		    	}
		    	else if(year==0&&month==0){
		    		query_url_suredBit = base_url +"/"+team;
		        	console.log(query_url_suredBit);
		    	}
		    	else{
		    		query_url_suredBit = base_url + "/" +team+"/"+year+"/"+month;
		        	console.log(query_url_suredBit);
		    	}
		    	if(team!=0&year==0){
		    		teamName=encodeURIComponent(teamNameA);
		    		console.log(teamName);
		    		query_url_wiki=base_url_wiki+teamName;
		    		console.log(query_url_wiki);
		    	}
		    	else if(team!=0&&year!=0){
		    		teamName=encodeURIComponent(teamNameA);
		    		query_url_wiki=base_url_wiki+year+"%E2%80%93"+nextYear1+"%20"+teamName+"%20season";
		    		console.log(query_url_wiki);
		    	}
		    	xhttp.open("GET",query_url_suredBit);
		    	console.log(query_url_suredBit);
		    	xhttp.addEventListener("load",function(response){
	    			var data=JSON.parse(this.response);
	    			console.log(data);
	    			if(data.length==0){
	    				alert("please give valid input")
	    			}
    				else{
		    			for(var i=0;i<data.length;i++){
			    			// 	var weekNo= data[i].week;
			    				var seasonYear=data[i].Year;
			    			// 	var dayOfWeek=data[i].dayOfWeek;
			    				var hometeam=searchTeams(data[i].homeTeam.teamID);
			    				var hometeamScore=data[i].homeTeam.finalScore;
			    			// 	var hometeamQ2=data[i].homeTeam.scoreQ2;
			    			// 	var hometeamQ3=data[i].homeTeam.scoreQ3;
			    			// 	var hometeamQ4=data[i].homeTeam.scoreQ4;
			    			// 	var hometeamScore=data[i].homeTeam.score;
			    			// 	var hometeamTurnover=data[i].homeTeam.turnovers;
			    				var awayteam=searchTeams(data[i].awayTeam.teamID);
			    				var awayteamScore=data[i].awayTeam.finalScore;
			    			// 	var awayteamQ2=data[i].awayTeam.scoreQ2;
			    			// 	var awayteamQ3=data[i].awayTeam.scoreQ3;
			    			// 	var awayteamQ4=data[i].awayTeam.scoreQ4;
			    			// 	var awayteamTurnover=data[i].awayTeam.turnovers;
			    			// 	var awayteamScore=data[i].awayTeam.score;
			    				createDesingNba(seasonYear,hometeam,hometeamScore,awayteam,awayteamScore);
		    			}
	    			}
		    	});
		    	xhttp.send();
		    	xhttp1.open("GET",query_url_wiki);
		    	xhttp1.addEventListener("load",function(response) {
					var data1=JSON.parse(this.response);
					console.log(data1);
					var pageId=data1.query.pageids[0];
					//console.log(pageId);
					var arr=[];
					var a=data1.query.pages;
					for(var x in a ){
						arr.push(a[x])
					}
					wikidata=arr[0].extract;
					console.log("avc"+wikidata);
					createDesing(wikidata);
					 // console.log(response);
				});
				xhttp1.send();
				console.log("kaa"+wikidata);
				getSelectedValue1();
				getSelectedValue2();
				getSelectedValue3();
			}
			var goBtn=document.getElementById('n');
			goBtn.addEventListener("click",function()
			{
				getSelectedValue1();
				getSelectedValue2();
				getSelectedValue3();

				document.getElementById("slct1").value="0";
				document.getElementById("slct2").value="0";
				document.getElementById("slct3").value="0";
				console.log("aksdjas");
			});
			function getSelectedValue1(){
				val1=document.getElementById("slct1").value;
				console.log(val1);
			}

			function getSelectedValue2(){
				val2=document.getElementById("slct2").value;
				console.log(val2);
			}
			
			function getSelectedValue3(){
				val3=document.getElementById("slct3").value;
				console.log(val3);
			}
			getSelectedValue1();
			getSelectedValue2();
			getSelectedValue3();
			var slideIndex = 0;
			showSlides();
			function showSlides() {
			    var i;
			    var slides = document.getElementsByClassName("mySlides");
			    var dots = document.getElementsByClassName("dot");
			    for (i = 0; i < slides.length; i++) {
			       slides[i].style.display = "none";  
			    }
			    slideIndex++;
			    if (slideIndex > slides.length) {slideIndex = 1}    
			    for (i = 0; i < dots.length; i++) {
			        dots[i].className = dots[i].className.replace(" active", "");
			    }
			    slides[slideIndex-1].style.display = "block";  
			    dots[slideIndex-1].className += " active";
			    setTimeout(showSlides, 3000); // Change image every 2 seconds
			}
	</script>
</body>
</html>