<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="nflStyleA.css">
	<title>player Nfl</title>
</head>
<body>
	<header class="pageHeader">
		<div class="slideshow-container">
			<div class="mySlides fade">
  				<div class="numbertext">1 / 3</div>
				<img
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_200.jpg 200w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_446.jpg 446w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_621.jpg 621w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_800.jpg 800w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_930.jpg 930w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1060.jpg 1060w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1187.jpg 1187w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1306.jpg 1306w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1383.jpg 1383w,
					images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg 1400w"
					src="images/nfl4_bnprio/nfl4_bnprio_c_scale,w_1400.jpg"
					alt="nfl4" style="width:100%">
  				<!-- <div class="text">Caption Text</div> -->
			</div>
			<div class="mySlides fade">
  				<div class="numbertext">2 / 3</div>
				<img
					sizes="(max-width: 1024px) 100vw, 1024px"
					srcset="
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_200.jpg 200w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_295.jpg 295w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_372.jpg 372w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_438.jpg 438w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_499.jpg 499w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_550.jpg 550w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_604.jpg 604w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_652.jpg 652w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_738.jpg 738w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_775.jpg 775w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_819.jpg 819w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_858.jpg 858w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_894.jpg 894w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_935.jpg 935w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_975.jpg 975w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1023.jpg 1023w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1019.jpg 1019w,
					images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg 1024w"
					src="images/nba3_pvqh2d/nba3_pvqh2d_c_scale,w_1024.jpg"
					alt="nba3" style="width:100%">
  				<!-- <div class="text">Caption Two</div> -->
			</div>
			<div class="mySlides fade">
  				<div class="numbertext">3 / 3</div>
				<img 
					sizes="(max-width: 1400px) 100vw, 1400px"
					srcset="
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_200.jpg 200w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_415.jpg 415w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_575.jpg 575w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_702.jpg 702w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_842.jpg 842w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_948.jpg 948w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1061.jpg 1061w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1172.jpg 1172w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1269.jpg 1269w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1375.jpg 1375w,
					images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg 1400w"
					src="images/nfl2_zichnh/nfl2_zichnh_c_scale,w_1400.jpg"
					alt="nfl2" style="width:100%">
  						<!-- <div class="text">Caption Two</div> -->
			</div>
		</div>
		<br>
		<div style="text-align:center">
		  	<span class="dot"></span> 
		  	<span class="dot"></span> 
		  	<span class="dot"></span> 
		</div>
	</header>
	<nav id="navigationWapper">
<!-- 	<ul class="abc" id="ab"> -->
	  <a id="active1" href="index.html">NFL</a>
	  <a  href="nba.html">NBA</a>
	  <a href="contactUs.html">Contact us</a>
<!-- 	</ul> -->
	</nav>
	<div id="websname">
		<h1>THE SPORTS CASTLE</h1>
	</div>
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	<div id="playerrslt">
		<div id="slctn1">
     		<input type="text" placeholder="First Name.." name="search" id="firstname">
     		<input type="text" placeholder="Last Name.." name="search" id="lastname">
      		<button type="submit" id="submiit">submit</button>
		</div>
	</div>
	<div id="howww"></div>
	<script type="text/javascript">
		window.onscroll = function() {scrollFunction()};
		function scrollFunction() {
		    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
		        document.getElementById("myBtn").style.display = "block";
		    } else {
		        document.getElementById("myBtn").style.display = "none";
		    }
		}

		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
		    document.body.scrollTop = 0; // For Safari
		    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
		}
		var newsubmit=document.getElementById("submiit");
		newsubmit.addEventListener("click",function(){
			var firstname=document.getElementById("firstname").value;
			var lastname=document.getElementById("lastname").value;
			console.log(firstname);
			location.href="nflplayer.html"+"?"+"var1"+"="+firstname+"&var2="+lastname;
		});

		function GetUrlValue(VarSearch){
		    var SearchString = window.location.search.substring(1);
		    var VariableArray = SearchString.split('&');
		    console.log(VariableArray);
		    for(var i = 0; i < VariableArray.length; i++){
		        var KeyValuePair = VariableArray[i].split('=');
		        if(KeyValuePair[0] == VarSearch){
		            return KeyValuePair[1];
		        }
		    }
		}
		// console.log(GetUrlValue('var1'));
		// var h="hello";
		var firstnam=GetUrlValue('var1');
		firstnam=capitalizeFirstLetter(firstnam);
		var lastnam=GetUrlValue('var2');
		lastnam=capitalizeFirstLetter(lastnam);
		var teams=[
			"ARI=Arizona Cardinals","LA=Los Angeles Rams","ATL=Atlanta Falcons","MIA=Miami Dolphins"
			,"BAL=Baltimore Ravens","MIN=Minnesota Vikings","BUF=Buffalo Bills","NE=New England Patriots"
			,"CAR=Carolina Panthers","NO=New Orleans Saints","CHI=Chicago Bears","NYG=New York Giants"
			,"CIN=Cincinnati Bengals","NYJ=New York Jets","CLE=Cleveland Browns","OAK=Oakland Raiders"
			,"DAL=Dallas Cowboys","PHI=Philadelphia Eagles","DEN=Denver Broncos","PIT=Pittsburgh Steelers"
			,"DET=Detroit Lions","SD=San Diego Chargers","GB=Green Bay Packers","SEA=Seattle Seahawks"
			,"HOU=Houston Texans","SF=San Francisco 49ers","IND=Indianpolis Colts","TB=Tampa Bay Buccaneers"
			,"JAC=Jacksonville Jaguars","TEN=Tennessee Titans","KC=Kansas City Chiefs","WAS=Washington Redskins"

		];
		function searchTeams(VarSearch1){
		 	for(var i = 0; i < teams.length; i++){
		        var KeyValuePair = teams[i].split('=');
		        if(KeyValuePair[0] == VarSearch1){
		            return KeyValuePair[1];
        		}
    		}
    	}
		function createDesing(readd){
			var newDiva=document.createElement('div');
			newDiva.setAttribute("id","wikiData");
			// var body=document.getElementsByClassName("navigationWapper");
			 // var hp=document.getElementsByTagName("body")[0];
			var mp=document.getElementById("howww");
			// console.log(hp);
			var wikipar=document.createElement("p");
			wikipar.setAttribute("id","wkipar");
			wikipar.textContent=readd;
			// wikipar.textContent=wikidata;
			
			newDiva.append(wikipar);
			mp.appendChild(newDiva);
		}
		function createDesingNfl(fullName,birthDate,college,height,playerId,position,profileId,team,uniformNumber,weight,yearsPro){
			var newDiv=document.createElement('div');
			newDiv.setAttribute("id","designdivSports");
			var mp=document.getElementById("howww");
			mp.appendChild(newDiv);
			var someProperties=document.createElement("ul");
			someProperties.setAttribute("class","left");
			var otherProperties=document.createElement("ul");
			otherProperties.setAttribute("class","right");
			var headr1=document.createElement("h3");
			headr1.setAttribute("id","hdr1");
			headr1.textContent=(fullName);
			newDiv.append(headr1);
			var listitem2=document.createElement('li');
			var listitem3=document.createElement('li');
			var listitem4=document.createElement('li');
			var listitem5=document.createElement('li');
			var listitem6=document.createElement('li');
			var listitem7=document.createElement('li');
			var listitem8=document.createElement('li');
			var listitem9=document.createElement('li');
			var listitem10=document.createElement('li');
			var listitem11=document.createElement('li');
			
			listitem2.textContent=("Birth Date  :"+birthDate);
			listitem3.textContent=("College  :"+college);
			listitem4.textContent=("Height :"+height);
			listitem5.textContent=("Player Id:"+playerId);
			listitem6.textContent=("Position:"+position);
			listitem7.textContent=("Profile Id :"+profileId);
			listitem8.textContent=("Team:"+team);
			listitem9.textContent=("Uniform Number:"+uniformNumber);
			listitem10.textContent=("Weight :"+weight);
			listitem11.textContent=("Years Pro :"+yearsPro);
			someProperties.append(listitem2);
			someProperties.append(listitem4);
			someProperties.append(listitem10);
			someProperties.append(listitem3);
			someProperties.append(listitem8);
			otherProperties.append(listitem5);
			otherProperties.append(listitem6);
			otherProperties.append(listitem7);
			otherProperties.append(listitem9);
			otherProperties.append(listitem11);
			newDiv.append(someProperties);
			newDiv.append(otherProperties);
			mp.appendChild(newDiv);
		}

		function capitalizeFirstLetter(string) {
    		return string.charAt(0).toUpperCase() + string.slice(1);
		}
		window.onload=function(){
			var base_url="https://cors-anywhere.herokuapp.com/http://api.suredbits.com/nfl/v0/players";
			var base_url_wiki="https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&origin=*&indexpageids=&exintro=&explaintext=&titles=";
			// var base_url_wiki="https://en.wikipedia.org/w/api.php?action=query&prop=extracts&format=json&origin=*&indexpageids=&exintro=&titles=";
			var query_url_suredBit="";
			var query_url_wiki="";
			var xhttp = new XMLHttpRequest();
			var xhttp1 = new XMLHttpRequest();
			if(firstnam==""&&lastnam!=""){
				query_url_suredBit=base_url+"/"+lastnam;
			}else if(firstnam!=""&&lastnam!=""){
				query_url_suredBit=base_url+"/"+lastnam+"/"+firstnam;
			}
			var nam=firstnam+"%20"+lastnam;
			query_url_wiki=base_url_wiki+nam;
			console.log(query_url_wiki);
			xhttp1.open("GET",query_url_wiki);
	    	xhttp1.addEventListener("load",function(response) {
				var data1=JSON.parse(this.response);
				var pageId=data1.query.pageids[0];
				console.log(data1);
				var arr=[];
				var a=data1.query.pages;
				for(var x in a ){
					arr.push(a[x]);
				}
				wikidata=arr[0].extract;
				console.log("avc"+wikidata);
				createDesing(wikidata);
			});
			xhttp1.send();
			xhttp.open("GET",query_url_suredBit);
	    	xhttp.addEventListener("load",function(response){
    			var data=JSON.parse(this.response);
    			console.log(data);
    			if(data.length==0){
    				alert("please give valid input")}
				else{
	    			for(var i=0;i<data.length;i++){
	    				var fullName=data[i].fullName;
	    				var birthDate=data[i].birthDate;
	    				var college=data[i].college;
	    				var height=data[i].height;
	    				var playerId=data[i].playerId;
	    				var position=data[i].position;
	    				var profileId=data[i].profileId;
	    				var team=searchTeams(data[i].team);
	    				var uniformNumber=data[i].uniformNumber;
	    				var weight=data[i].weight;
	    				var yearsPro=data[i].yearsPro;
	    				createDesingNfl(fullName,birthDate,college,height,playerId,position,profileId,team,uniformNumber,weight,yearsPro);
    				}
    			}
	    	});
	    	xhttp.send();
		}
		var slideIndex = 0;
		showSlides();

		function showSlides() {
		    var i;
		    var slides = document.getElementsByClassName("mySlides");
		    var dots = document.getElementsByClassName("dot");
		    for (i = 0; i < slides.length; i++) {
		       slides[i].style.display = "none";  
		    }
		    slideIndex++;
		    if (slideIndex > slides.length) {slideIndex = 1}    
		    for (i = 0; i < dots.length; i++) {
		        dots[i].className = dots[i].className.replace(" active", "");
		    }
		    slides[slideIndex-1].style.display = "block";  
		    dots[slideIndex-1].className += " active";
		    setTimeout(showSlides, 3000); // Change image every 2 seconds
		}
	</script>
</body>
</html>